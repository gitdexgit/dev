# _)
# W41 Tue, 07 at 10:08
# ---START------------------------------------------------------------
# ""Using a Compositor""
# --------------------------------------------------------------------

# [[]]

# DESCRIPTION:

# Why?:

# Solution?:

# --------------------------------------------------------------------

# I'm using a picom compositor because umm... it makes some applications really shine like xfce4-pannels. 
# but I do not care about transparency. most of the time. but some applications do need it. ike the qterminal dropdown
# and like the xfce4 pannels. and idk if other apps need them. 

# and that's it... I disable everything blue opacity whatever.... I aim for performance and only use when needed. 
# opacity on terminals? I don't care that much but on drop down sure. blur ? I don't care I need performance


# --------------------------------------------------------------------
# ""Using a Compositor""
# ---END--------------------------------------------------------------







# --- Backend & VSync ---
# glx is the hardware-accelerated backend. Best for performance.
# vsync prevents screen tearing.
# -------------------------------------------------------------





# Enable borders
# border-width = 2; # Set your desired border width in pixels

# Set border colors
# active-border-color can be a single color, or an array of colors for gradients
# active-border-color = "#88C0D0";  # A nice blue for active windows
# inactive-border-color = "#3B4252"; # A dark grey for inactive windows

# Optional: Tell picom not to draw borders on windows that Openbox
# already draws borders on, to avoid "double borders".
# This is a bit tricky, but a common approach is to exclude windows
# that have title bars (i.e., are decorated).
# This rule might need tweaking depending on your apps.
# no-border-for-decorated = true;




backend = "glx";
vsync = true;

# --- Performance Tuning ---
# These settings can significantly reduce resource usage.
# --------------------------------------------------------
use-damage = true;        # Only redraw updated screen regions. Crucial for performance.
glx-no-stencil = true;    # Disables the stencil buffer. Often a performance gain.
glx-no-rebind-pixmap = true; # Avoids unnecessary pixmap rebinding. Can improve performance.






# To stop opacity use
opacity-rule = false

# To use opacity use
# opacity-rule = [
#     "90:class_g = 'Alacritty'",
#     "90:class_g = 'URxvt'",
#     "85:class_g = 'XTerm'"
#     # No need to use this it's using it by default
#     # "85:class_g = 'screenkey'"
# ];


# --- Fading & Shadows (Disabled for Performance) ---
fading = false;
shadow = false;
# Do not fade on single screen/root window changes.
no-fading-openclose = true;

# Paint the desktop background with the compositor.
# paint-on-overlay = true;


# --- Blur Settings ---
# We enable blur but will tune it for performance.
# ------------------------------------------------

# to stop blur use
blur=false

# to use blur use
# blur:
# {
#   # "box" is the fastest but looks the most basic.
#   # method = "dual_kawase";
#   method = "dual_kawase";
#   strength = 3; # Reduced strength from 5 to 3 for better performance.
# };





# --- Blur Exclusions ---
# Exclude everything from blur except our terminals.
# --------------------------------------------------------------------
blur-background-exclude = [
  # Essential window types
  # "wintype = 'dock'",
  # "wintype = 'desktop'",
  # "wintype = 'dnd'",
  # "wintype = 'dropdown_menu'",
  # "wintype = 'popup_menu'",
  # "wintype = 'tooltip'",
  # "wintype = 'notification'",

  # LXQt Desktop Components
  "class_g = 'lxqt-panel'",
  "class_g = 'Xfce4-panel'",
  "class_g = 'qterminal'",
  "class_g = 'pcmanfm-qt'",
  "class_g = 'lxqt-runner'",
  "class_g = 'Whisker Menu'",

  # Exclude Kazam from blur
  "class_g = 'Kazam'",
  "class_g = 'screenkey'",
  "class_g = 'Zen'",
  "class_g = 'zen'",

  # Common applications
  "class_g = 'Firefox'",
  "class_g = 'Chromium'",
  "class_g = 'Code'",
  "class_g = 'Thunar'",
  "class_g = 'Geany'",

  "_GTK_FRAME_EXTENTS@"
];
# --- Window Types (Minimal effects) ---
wintypes:
{
  tooltip = { fade = false; shadow = false; opacity = 1.0; focus = true; };
  desktop = { fade = false; shadow = false; opacity = 1.0; };
  dock = { shadow = false; };
  dnd = { shadow = false; };
  popup_menu = { opacity = 1.0; };
  dropdown_menu = { opacity = 1.0; };
};
